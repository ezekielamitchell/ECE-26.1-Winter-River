; PlatformIO Project Configuration File

; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

; Shared settings for all nodes
[env]
platform = espressif32
board = esp32doit-devkit-v1
framework = arduino
monitor_speed = 115200
lib_deps =
    knolleary/PubSubClient@^2.8
    adafruit/Adafruit SSD1306@^2.5.7
    adafruit/Adafruit GFX Library@^1.11.5
    marcoschwartz/LiquidCrystal_I2C@^1.1.4

; ── RACK A ───────────────────────────────────────────────
; Chain: util_a → trf_a → sw_a → gen_a → dist_a → ups_a → pdu_a → srv_a

[env:util_a]
build_src_filter = +<utility/util_a/>

[env:transformer_a]
build_src_filter = +<transformer/transformer_a/>

[env:sw_a]
build_src_filter = +<switchgear/sw_a/>

[env:gen_a]
build_src_filter = +<generator/gen_a/>

[env:dist_a]
build_src_filter = +<distribution/dist_a/>

[env:ups_a]
build_src_filter = +<ups/ups_a/>

[env:pdu_a]
build_src_filter = +<pdu/pdu_a/>

[env:srv_a]
build_src_filter = +<server_rack/srv_a/>

; ── LEGACY ───────────────────────────────────────────────
[env:pdu_b]
build_src_filter = +<pdu/pdu_b/>

[env:server]
build_src_filter = +<server/>
